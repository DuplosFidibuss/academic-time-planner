@page "/chart"
@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@using Plotly.Blazor.LayoutLib

<EditForm Model="@ChartsState" OnValidSubmit="@HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <label>Start date: <InputDate id="StartDate" @bind-Value="ChartsState.Value.DefaultStartDate" /></label>
    <label>End date: <InputDate id="EndDate" @bind-Value="ChartsState.Value.DefaultEndDate" /></label>
    <button type="submit">Submit</button>
</EditForm>

@if (ChartsState.Value.Loaded)
{
    <PlotlyChart Id="Total" Config="config" Layout="layoutTotal" Data=GetDataTotal()/>
    <PlotlyChart Id="Projects" Config="config" Layout="layoutProjects" Data=GetDataOfSingleProjectsToday()/>
}

